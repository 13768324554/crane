<div class="main-content">
    <ul class="collapse in">
        <li class="panel" data-ng-repeat="repository in repositorieListPublicCtrl.repositories ">
            <div layout="row" layout-align="end start" class="panel-heading">
                <div class="info" flex>
                    <h3>{/repository.name/}</h3>
                </div>
                <div class="info" flex>
                    下载次数: {/repository.pullCount/}
                </div>
                <div class="info" flex>
                    上传次数: {/repository.pushCount/}
                </div>
                <div layout-align="end center" class="operation">
                    <md-button class="md-raised" aria-label="add"
                               data-ng-show="!repository.show"
                               ng-click="repositorieListPublicCtrl.openRepository($index)">
                        <i class="fa fa-chevron-down" aria-hidden="true"></i>
                        <md-tooltip md-direction="top">
                            展开详情
                        </md-tooltip>
                    </md-button>
                    <md-button class="md-raised" aria-label="add"
                               data-ng-show="repository.show"
                               ng-click="repositorieListPublicCtrl.closeRepository($index)">
                        <i class="fa fa-chevron-up" aria-hidden="true"></i>
                        <md-tooltip md-direction="top">
                            收起详情
                        </md-tooltip>
                    </md-button>
                </div>
            </div>
            <div class="panel-collapse">
                <table md-table ng-show="repository.show">
                    <thead md-head>
                    <tr md-row>
                        <th md-column><span>tag号</span></th>
                        <th md-column><span>大小</span></th>
                        <th md-column><span>摘要</span></th>
                    </tr>
                    </thead>
                    <tbody md-body>
                    <tr md-row ng-repeat="tag in repository.tags">
                        <td md-cell>
                            <a data-ui-sref='registry.imageDetail({repository: repository.name, tag:tag.digest})'>{/tag.tag/}</a>
                        </td>
                        <td md-cell>
                            {/tag.size | size/}
                        </td>
                        <td md-cell>
                            <a data-ui-sref='registry.imageDetail({repository: repository.name, tag:tag.digest})'>{/tag.digest/}</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </li>
    </ul>
</div>
