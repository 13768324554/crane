<md-toolbar class="md-table-toolbar md-default">
    <div class="md-toolbar-tools">
        <form flex name="filter">
            <input type="text" ng-model="nodeContainerCtrl.filter" placeholder="搜索">
        </form>
    </div>
</md-toolbar>

<md-table-container>
    <table md-table>
        <thead md-head>
        <tr md-row>
            <th md-column>容器名称</th>
            <th md-column>内部地址</th>
            <th md-column>服务</th>
            <th md-column>任务</th>
            <th md-column>状态</th>
            <th md-column>创建时间</th>
            <th md-column>操作</th>
        </tr>
        </thead>
        <tbody md-body>
        <tr md-row ng-repeat="container in nodeContainerCtrl.containers | filter: nodeContainerCtrl.filter">
            <td md-cell>
                <a data-ui-sref="node.containerDetail({node_id: $stateParams.node_id, container_id: container.Id})">{/container.Names[0]/}</a>
            <td md-cell>
                <p ng-repeat="port in container.Ports">
                   <a href="http://{/container.NetworkSettings.Networks.bridge.IPAddress/}:{/port.PrivatePort/}">{/container.NetworkSettings.Networks.bridge.IPAddress/}:{/port.PrivatePort/}</a>/{/port.Type/}
                </p>
            </td>
            <td md-cell>{/container.Labels['com.docker.swarm.service.name']/}</td>
            <td md-cell>{/container.Labels['com.docker.swarm.task.name']/}</td>
            <td md-cell>{/CONTAINER_STATUS_LABELS[container.State]/}</td>
            <td md-cell>{/container.Created * 1000 | date: 'yyyy-MM-dd HH:mm:ss'/}</td>
            <td md-cell>
                <md-menu md-offset="0 -5">
                    <md-button aria-label="containerListMenu" class="md-button md-raised"
                               ng-click="$mdOpenMenu($event)">
                        <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                    </md-button>
                    <md-menu-content width="2">
                        <md-menu-item>
                            <md-button aria-label="rm" data-ng-click="nodeContainerCtrl.removeContainer(container.Id)">移除
                            </md-button>
                        </md-menu-item>
                        <md-menu-item>
                            <md-button aria-label="kill" data-ng-click="nodeContainerCtrl.killContainer(container.Id)">杀死
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
            </td>
        </tr>
        </tbody>
    </table>
    <div class="alert alert-warning text-center" data-ng-if="nodeContainerCtrl.containers.length <= 0">
        未查询到容器信息
    </div>
</md-table-container>
